---
interface Props {
  repo?: string;
  repoId?: string;
  category?: string;
  categoryId?: string;
  mapping?: string;
  term?: string;
  strict?: string;
  reactionsEnabled?: string;
  emitMetadata?: string;
  inputPosition?: string;
  theme?: string;
  lang?: string;
}

const {
  repo = 'YOUR_USERNAME/YOUR_REPO',
  repoId = '',
  category = 'General',
  categoryId = '',
  mapping = 'pathname',
  term = '',
  strict = '0',
  reactionsEnabled = '1',
  emitMetadata = '0',
  inputPosition = 'bottom',
  theme = 'light',
  lang = 'zh-CN',
} = Astro.props;

// 需要从 URL 获取页面信息
const pageUrl = Astro.url.href;
---

<script is:inline src="https://giscus.app/client.js"
        data-repo={repo}
        data-repo-id={repoId}
        data-category={category}
        data-category-id={categoryId}
        data-mapping={mapping}
        data-strict={strict}
        data-reactions-enabled={reactionsEnabled}
        data-emit-metadata={emitMetadata}
        data-input-position={inputPosition}
        data-theme={theme}
        data-lang={lang}
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

<style>
  :global(.gsc-result) {
    max-width: 100%;
  }
</style>
